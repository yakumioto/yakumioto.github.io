<!doctype html><html lang=zh dir=auto><head><meta name=generator content="Hugo 0.110.0"><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>圁水</title><meta name=keywords content="圁水,Mioto's Blog,Mioto,Yaku Mioto,Mioto Yaku,yakumioto"><meta name=description content="我们都期待自己的存在是特殊的，到头来却平凡不已。"><meta name=author content="Mioto Yaku"><link rel=canonical href=https://mioto.me/><link crossorigin=anonymous href=/assets/css/stylesheet.6a98292fb8fa8cf0f3ba4042d4b75515c04267550f3ad49ff6271b5af9562443.css integrity="sha256-apgpL7j6jPDzukBC1LdVFcBCZ1UPOtSf9icbWvlWJEM=" rel="preload stylesheet" as=style><link rel=icon href=https://mioto.me/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://mioto.me/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://mioto.me/favicon-32x32.png><link rel=apple-touch-icon href=https://mioto.me/apple-touch-icon.png><link rel=mask-icon href=https://mioto.me/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate type=application/rss+xml href=https://mioto.me/index.xml><link rel=alternate type=application/json href=https://mioto.me/index.json><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script type=application/javascript>var doNotTrack=!1;doNotTrack||(function(e,t,n,s,o,i,a){e.GoogleAnalyticsObject=o,e[o]=e[o]||function(){(e[o].q=e[o].q||[]).push(arguments)},e[o].l=1*new Date,i=t.createElement(n),a=t.getElementsByTagName(n)[0],i.async=1,i.src=s,a.parentNode.insertBefore(i,a)}(window,document,"script","https://www.google-analytics.com/analytics.js","ga"),ga("create","UA-102233768-1","auto"),ga("send","pageview"))</script><meta property="og:title" content="圁水"><meta property="og:description" content="我们都期待自己的存在是特殊的，到头来却平凡不已。"><meta property="og:type" content="website"><meta property="og:url" content="https://mioto.me/"><meta property="og:site_name" content="圁水"><meta name=twitter:card content="summary"><meta name=twitter:title content="圁水"><meta name=twitter:description content="我们都期待自己的存在是特殊的，到头来却平凡不已。"><script type=application/ld+json>{"@context":"https://schema.org","@type":"Organization","name":"圁水","url":"https://mioto.me","description":"我们都期待自己的存在是特殊的，到头来却平凡不已。","thumbnailUrl":"https://mioto.me/favicon.ico","sameAs":["https://twitter.com/yakumioto","https://github.com/yakumioto","https://t.me/yakumioto"]}</script></head><body class=list id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://mioto.me accesskey=h title="圁水 (Alt + H)">圁水</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://mioto.me/archives/ title=Archive><span>Archive</span></a></li><li><a href=https://mioto.me/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li></ul></nav></header><main class=main><article class=post-entry><header class=entry-header><h2>为终端设置代理</h2></header><div class=entry-content><p>现在一般都是使用 SS FQ 了吧, 所以都是 SOCKS5 代理, 但是在终端有些程序是不支持 SOCKS5 的, 比如 go get
方法一 如果你的 SS 目前 Cow 支持的加密算法有: aes-128-cfb, aes-192-cfb, aes-256-cfb, bf-cfb, cast5-cfb, des-cfb, rc4-md5, chacha20, salsa20, rc4, table
安装教程参见 https://github.com/cyfdecyf/cow#快速开始
方法二 如果你用的 SS 加密算法不在以上支持的情况
可以先使用 ss-local 在本地开启 SOCKS5 然后在通过 Cow 将 SOCKS5 转 HTTP</p></div><footer class=entry-footer><span title='2018-10-05 16:21:00 +0000 UTC'>十月 5, 2018</span>&nbsp;·&nbsp;Mioto Yaku</footer><a class=entry-link aria-label="post link to 为终端设置代理" href=https://mioto.me/2018/10/setting-up-agents-for-terminals/></a></article><article class=post-entry><header class=entry-header><h2>安装 Manjaro I3 记录</h2></header><div class=entry-content><p>用 Manjaro I3 差不多快半年了, 重装了两三次, 记录一下自己的安装记录, 避免以后遇到一些坑
配置文件 配置文件使用 [Mackup](https://github.com/lra/mackup) 进行备份, 备份至 Dropbox 中
输入法 搜狗输入法…, 怎么说呢, 用起来很可以,简单方便. 但是在 Manjro 下安装简直是一种煎熬, 需要自己 building QTwebkit, 所需要的时间你自己想… 可能有更简单的方法, 但是我不知道…
我现在使用的输入法是 ibus rime, 简单好用, 虽然不能同步输入习惯,但是通过 Mackup 解决了
字体 编程字体主要是用 manoco, Dejavu Sans Mono 两个都很好看, 可以尝试一下, 因为使用 zsh 可能还需要装一下 [Powerline Font](https://github.com/powerline/fonts)
常用软件 JetBrain 全家桶, 主要用 Goland Google Chrome 浏览器 VSCode 用来写 Markdown zeal 类似于 Mac 下的 Dash, 用起来还不错 Dropbox 同步 dotfiles, 以及一堆的资料 Ibus Rime 中文输入法, 台湾人开发的?...</p></div><footer class=entry-footer><span title='2018-10-05 02:16:00 +0000 UTC'>十月 5, 2018</span>&nbsp;·&nbsp;Mioto Yaku</footer><a class=entry-link aria-label="post link to 安装 Manjaro I3 记录" href=https://mioto.me/2018/10/install-manjaro-i3-records/></a></article><article class=post-entry><header class=entry-header><h2>私有-docker-registry-搭建</h2></header><div class=entry-content><p>简介 这个东西可能并没有你想象中的那么完美, 适合个人使用, 上传后无法删除镜像, 但是有第三方工具帮你删除后面会讲. 如果这几点你都不介意的话, 可以继续往下看了!!!
docker 的基础操作我都不会讲, 如果不太了解的话建议去官网学习
必备的程序 docker-ce, docker-compose.
本机搭建 registry 的默认端口为 5000
如果想将 hub.docker.com 上的 alpine 做个镜像.
docker pull alpine:latest docker tag alpine:latest localhost:5000/alpine:latest docker push localhost:5000/alpine:latest --- version: "2" services: registry: image: registry:latest restart: always volumes: - registry:/var/lib/registry volumes: registry: 配置前端 registry-frontend 是 registry 的前端, 如果想详细设置可以去 konradkleine/docker-registry-frontend 这里看.
效果图如下:
--- version: "2" services: registry: image: registry:latest restart: always volumes: - registry:/var/lib/registry registry-frontend: image: konradkleine/docker-registry-frontend:v2 environment: ENV_DOCKER_REGISTRY_HOST: registry ENV_DOCKER_REGISTRY_PORT: "5000" ENV_MODE_BROWSE_ONLY: "true" depends_on: - registry volumes: registry: 配置域名与认证 我使用的是 caddy 作为我的反向代理服务器, 当然你也可以使用 nginx 等....</p></div><footer class=entry-footer><span title='2018-08-19 18:14:15 +0000 UTC'>八月 19, 2018</span>&nbsp;·&nbsp;Mioto Yaku</footer><a class=entry-link aria-label="post link to 私有-docker-registry-搭建" href=https://mioto.me/2018/08/private-docker-registry-deploy/></a></article><article class=post-entry><header class=entry-header><h2>Go byte 数组转 string</h2></header><div class=entry-content><p>今天遇到个问题, 如何将 [32]byte 转 string
// https://play.golang.org/p/JkK_B5609GN func main() { hs := sha256.Sum256([]byte("hahaha")) fmt.Println(hs) } // ===== // [190 23 140 5 67 235 23 245 243 4 48 33 201 229 252 243 2 133 229 87 164 252 48 156 206 151 255 156 166 24 41 18] ...</p></div><footer class=entry-footer><span title='2018-03-11 11:01:03 +0000 UTC'>三月 11, 2018</span>&nbsp;·&nbsp;Mioto Yaku</footer><a class=entry-link aria-label="post link to Go byte 数组转 string" href=https://mioto.me/2018/03/go-bytearray-tostring/></a></article><article class=post-entry><header class=entry-header><h2>Go Slice 原理解析</h2></header><div class=entry-content><p>今天被一道题目恶心到了, 发现不研究这些东西可能真的活不下去了, 狠下心来读了一个多小时的源码, 写下些自己对 Slice 的见解吧.
先说说那个题目.
// https://play.golang.org/p/2fA3BylTgtf // 请问 s1 和 s2 的值分别是? func main() { s1 := []int{1, 2, 3} s2 := s1[:0] s2 = append(s2, 4) fmt.Println(s1) fmt.Println(s2) } //========== // [4 2 3] // [4] Slice 定义 先看看 Slice 在 Go 底层的定义
// https://github.com/golang/go/blob/master/src/reflect/value.go#L1806 type sliceHeader struct { Data unsafe.Pointer // Array pointer Len int // slice length Cap int // slice capacity } 原理讲解 第一行 s1 := []int{1, 2, 3} 是将 [1, 2, 3] 的首地址 存入了 Data 中, 设置了 Len 为 3, 设置了 Cap 为 3....</p></div><footer class=entry-footer><span title='2018-03-09 16:41:51 +0000 UTC'>三月 9, 2018</span>&nbsp;·&nbsp;Mioto Yaku</footer><a class=entry-link aria-label="post link to Go Slice 原理解析" href=https://mioto.me/2018/03/go-slice-analysis/></a></article><article class=post-entry><header class=entry-header><h2>Go HTTP JSONRPC Service</h2></header><div class=entry-content><p>就贴一段代码…
package main import ( "bytes" "errors" "io" "log" "net/http" "net/rpc" "net/rpc/jsonrpc" ) type Args struct { A, B int } type Quotient struct { Quo, Rem int } type Arith int func (t *Arith) Multiply(args *Args, reply *int) error { *reply = args.A * args.B return nil } func (t *Arith) Divide(args *Args, quo *Quotient) error { if args.B == 0 { return errors.New("divide by zero") } quo.Quo = args....</p></div><footer class=entry-footer><span title='2018-03-06 11:13:31 +0000 UTC'>三月 6, 2018</span>&nbsp;·&nbsp;Mioto Yaku</footer><a class=entry-link aria-label="post link to Go HTTP JSONRPC Service" href=https://mioto.me/2018/03/go-http-jsonrpc-service/></a></article><article class=post-entry><header class=entry-header><h2>基于 Go 的 RESTful API 怎么设计权限控制</h2></header><div class=entry-content><p>其实 RESTful API 实现权限控制的方法很多很多, 比如在每个 Handler 中进行判断, 但是这种写法会导致工作量无限增加, 万一增加了其他的角色还要不停的更改源码, 所以要以尽量优雅的方式来实现这个部分. 比如 Middleware 的方式.
...</p></div><footer class=entry-footer><span title='2018-02-22 13:53:59 +0000 UTC'>二月 22, 2018</span>&nbsp;·&nbsp;Mioto Yaku</footer><a class=entry-link aria-label="post link to 基于 Go 的 RESTful API 怎么设计权限控制" href=https://mioto.me/2018/02/design-permission-control-based-on-restful/></a></article><article class=post-entry><header class=entry-header><h2>openssl 自签证书</h2></header><div class=entry-content><p>最开始主要是想玩玩 Go http 2 Push 的, 但是发现以前那种最简单的自签 Chrome58+ 后就不认了…
查询后才知道 Chrome58+ 后只允许包含SAN(Subject Alternative Name)信息的证书.
...</p></div><footer class=entry-footer><span title='2018-01-29 21:38:31 +0000 UTC'>一月 29, 2018</span>&nbsp;·&nbsp;Mioto Yaku</footer><a class=entry-link aria-label="post link to openssl 自签证书" href=https://mioto.me/2018/01/openssl-self-signed-certificate/></a></article><article class=post-entry><header class=entry-header><h2>使用GoBase64标准包遇到的问题</h2></header><div class=entry-content><p>在解析 jwt 中的 Playload 部分的 base64 时遇到了错误.
报错代码 enstr := "eyJBY2NvdW50SWQiOiIxIiwiQ2xpZW50IjoiIiwiRW1haWwiOiJ5YWt1Lm1pb3RvQGdtYWlsLmNvbSIsIk1hc3RlckZsYWciOnRydWUsImV4cCI6MTU0ODc0NTY5OSwidHlwZSI6ImVtcGxveWVlcyJ9" // {"AccountId":"1","Client":"","Email":"yaku.mioto@gmail.com","MasterFlag":true,"exp":1548745699,"type":"employees"} debytes, err := base64.StdEncoding.DecodeString(enstr) if err := nil { // ... // err output: illegal base64 data at input byte xxx } // ... ...</p></div><footer class=entry-footer><span title='2018-01-29 15:53:07 +0000 UTC'>一月 29, 2018</span>&nbsp;·&nbsp;Mioto Yaku</footer><a class=entry-link aria-label="post link to 使用GoBase64标准包遇到的问题" href=https://mioto.me/2018/01/problems-encountered-in-using-gobase64-standard-library/></a></article><article class=post-entry><header class=entry-header><h2>故障Google Pixel退换流程</h2></header><div class=entry-content><p>二话不说先上一张退回后所有的配件…, 没错就是这么点东西!!!, 所以只要给 Google 寄回坏手机就好了.
废话不多说开始讲讲大概的流程,
咨询方法有两种, 打电话和在线聊天, 如果英文够好, 估计也不会来这里了, emmm…
联系 Google https://support.google.com/pixelphone, 找到 CONTACT US -> Pixel Device Support -> 对应的手机型号 进行聊天.
需要注意以下的几点:
将网站设置成英文, 不然无法看到 CONTACT US. 准备好 双,全币 信用卡 因为要交押金的. 大概是 $869刀, 21天 必须把手机寄到美国,不然会扣钱 准备一个收货地址必须是美国的, 找朋友或者转运公司都行. Google在线聊天工作的时间是 6:00 AM to 9:00 PM PST, 美国的时区是 UTC-8 中国的时区是 UTC+8, 所以中国 10:00 PM 的时候他们刚刚上班… 如果他们给的方法 (基本联系他们的时候就全部做过了) 全部试过还是无法开机的话. 他们会给你说给你寄送一部翻新机, 在 21天 内将坏手机寄回他们给的地址, 这些东西都会在聊天完毕后给你发一封详细电子邮件. 最好在他们发货的时候就将自己的坏手机准备寄送出去, 因为手机到美国有差不多10多天的才能到.</p></div><footer class=entry-footer><span title='2018-01-07 16:10:35 +0000 UTC'>一月 7, 2018</span>&nbsp;·&nbsp;Mioto Yaku</footer><a class=entry-link aria-label="post link to 故障Google Pixel退换流程" href=https://mioto.me/2018/01/failure-google-pixel-return-process/></a></article><footer class=page-footer><nav class=pagination><a class=prev href=https://mioto.me/page/2/>«&nbsp;上一页&nbsp;</a>
<a class=next href=https://mioto.me/page/4/>下一页&nbsp;&nbsp;»</a></nav></footer></main><footer class=footer><span>&copy; 2023 <a href=https://mioto.me>圁水</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>